<div class="tab_header"><div class="ville" (click)="popYears()">{{chosenYear}}&nbsp;<ion-icon name="arrow-dropdown"></ion-icon></div>Mes Stats</div>

<div class="custom_backdrop" id="bckdrop"></div>
<div class="custom_modal_wrapper_2" id="cmw2">
  <div class="custom_modal_2" id="cm2">
    <header>Choisissez l'année</header>
    <section>
      <div *ngFor="let yr of years" (click)="changeYear(yr.AN_ANNEE)">
        <p>{{yr.AN_ANNEE}}</p>
      </div>
    </section>
    <footer (click)="closeModal()">Annuler</footer>
  </div>
</div>


<!-- Custom Refresher Start -->
<div class="cpr_frontdrop" [ngStyle]="{'display' : popFD}"></div>
<div class="cp_refresher_wrapper" [ngStyle]="{'transform' : posY, 'transition' : animDur}">
  <div class="custom_pull_refresher"><img src="../../assets/img/custom_pull_refresher_arrow.svg" [ngStyle]="{'animation' : rotate}"></div>
</div>
<!-- Custom Refresher End -->

<ion-content [ngStyle]="{'opacity' : mainOpac}" [forceOverscroll]="false" *ngIf="ifHasConnection" color="secondary" class="mainContent" [scrollEvents]="true" (ionScroll)="scrollEvent($event)" (touchmove)="pull($event)" (touchstart)="pullstart($event)" (touchend)="endpull()">

  <div class="months_wrapper"  id="m_w">
      <div class="months" *ngFor="let mois of lesMois"  id="months_{{mois.num}}">
          <section class="months_header" id="mh_{{mois.num}}" (click)="expand(mois.num)">
              <p>{{mois.nom}}</p>
              <span class="plus_icon" id="plusIcon_{{mois.num}}"><ion-icon name="arrow-dropdown"></ion-icon></span>
          </section>
          <section class="months_body" id="mb_{{mois.num}}">
            <span *ngFor="let scannedCodes of scannedCodesByDate" (click)="moreDetails(scannedCodes.dateScan)" class="scanCode_row">
              <p *ngIf="scannedCodesByDate!==null">
                <ion-datetime [readonly]="true" day-names="Dimanche, Lundi, Mardi, Mercredi, Jeudi, Vendredi, Samedi" month-names="Janvier, Février, Mars, Avril, Mai, Juin, Juillet, Août, Septembre, Octobre, Novembre, Décembre" displayFormat="DDDD, DD MMMM" value="{{scannedCodes.dateScan}}"></ion-datetime>
                <span>Nb de scan : {{scannedCodes.nbOffre}}&nbsp;&nbsp;&nbsp;<ion-icon name="information-circle"></ion-icon></span>
              </p>
            </span>

            <span class="totalScanned" *ngFor="let total of totScanned">
              <p *ngIf="totScanned!==null && scannedCodesByDate!==null">Total : {{total.totalScanned}}</p>
            </span>
            <p *ngIf="scannedCodesByDate===null">{{noScannedMonth}}</p>
          </section>
      </div>
  </div>
</ion-content>

<ion-content [ngStyle]="{'opacity' : mainOpac}" [forceOverscroll]="false" *ngIf="!ifHasConnection" color="secondary" class="mainContent noConnContent" [scrollEvents]="true" (ionScroll)="scrollEvent($event)" (touchmove)="pull($event)" (touchstart)="pullstart($event)" (touchend)="endpull()">
    <div class="no_connection">
    <img src="../../assets/img/no_connection.svg">
    <h1>Veuillez vous assurer que votre appareil est connecté au réseau.</h1>
  </div>
</ion-content>
